--[[
==============================================================================
|                                                                            |
|      CONKY CONFIGURATION - LUNAR COLOR SCHEME                              |
|                                                                            |
==============================================================================
]]

conky.config = {
    --==========================================================================
    --  WINDOW SETTINGS
    --==========================================================================
    own_window = true,
    own_window_type = 'desktop',
    own_window_hints = 'undecorated,below,sticky,skip_taskbar,skip_pager',
    own_window_colour = '#000000',
    own_window_argb_visual = true,
    own_window_argb_value = 0,

    --==========================================================================
    --  PLACEMENT
    --==========================================================================
    xinerama_head = 2,
    alignment = 'top_right',
    gap_x = 50,
    gap_y = 50,
    minimum_width = 320,
    minimum_height = 500,

    --==========================================================================
    --  GRAPHICS & FONTS
    --==========================================================================
    draw_shades = true,
    default_shade_color = '#000000',
    draw_outlines = false,
    draw_borders = false,
    draw_graph_borders = false,
    double_buffer = true,
    use_xft = true,
    font = 'Cantarell:size=10',

    --==========================================================================
    --  COLORS
    --==========================================================================
    default_color = '#E0E0E0',
    color1 = '#FFFFFF',
    color2 = '#B0C4DE',
    color3 = '#708090',
    color4 = '#3A3A3A',
    color5 = '#FF6961',

    --==========================================================================
    --  BEHAVIOR
    --==========================================================================
    update_interval = 2.0,
    cpu_avg_samples = 2,
    net_avg_samples = 2,
    imlib_cache_size = 0,
    uppercase = false,
    text_buffer_size = 4096,
};

conky.text = [[
#==============================================================================
#  TIME & DATE
#==============================================================================
${alignr}${color1}${font Cantarell:bold:size=38}${time %H:%M}${font}
${alignr}${color3}${font Cantarell:size=14}${time %A, %d %B}${font}
${alignr}${color2}Uptime: ${uptime}

${voffset 15}${color4}${hr 2}

#==============================================================================
#  SYSTEM & CPU
#==============================================================================
${voffset 10}${color1}${font Cantarell:bold:size=12}SYSTEM ${font}
${voffset 5}${color2}Host:${alignr}${nodename}
${color2}Kernel:${alignr}${kernel}

${voffset 10}${color1}${font Cantarell:bold:size=12}CPU${alignr}${cpu cpu0}%${font}
${color4}${cpubar cpu0 8,0}
${voffset 5}${execpi 9999 nproc | awk '{for(i=1;i<=$1;i++){c=(i-1)%4; printf "${goto %d}${color3}%d${goto %d}${color4}${cpubar cpu%d 6,40}", 10+c*80, i, 35+c*80, i; if(c==3) print ""}}'}

${voffset 5}${color3}Top CPU Processes:${alignr}CPU%
${color2} ${top name 1}${alignr}${top cpu 1}%
${color2} ${top name 2}${alignr}${top cpu 2}%
${color2} ${top name 3}${alignr}${top cpu 3}%

${voffset 15}${color4}${hr 2}

#==============================================================================
#  GPU - NVIDIA
#==============================================================================
${voffset 10}${color1}${font Cantarell:bold:size=12}GPU - ${execi 86400 nvidia-smi --query-gpu=gpu_name --format=csv,noheader,nounits}${font}
${color2}Temperature:${alignr}${execi 4 nvidia-smi --query-gpu=temperature.gpu --format=csv,noheader,nounits}Â°C
${color2}GPU Usage:${alignr}${execi 4 nvidia-smi --query-gpu=utilization.gpu --format=csv,noheader,nounits}%
${color2}VRAM Usage:${alignr}${execi 4 nvidia-smi --query-gpu=memory.used --format=csv,noheader,nounits} / ${execi 4 nvidia-smi --query-gpu=memory.total --format=csv,noheader,nounits}

${voffset 15}${color4}${hr 2}

#==============================================================================
#  MEMORY & DISK
#==============================================================================
${voffset 10}${color1}${font Cantarell:bold:size=12}RAM${alignr}${mem} / ${memmax}${font}
${color4}${membar 8,0}
${color3}Top RAM Processes:${alignr}MEM%
${color2} ${top name 1}${alignr}${top mem 1}%
${color2} ${top name 2}${alignr}${top mem 2}%
${color2} ${top name 3}${alignr}${top mem 3}%

${voffset 10}${color1}${font Cantarell:bold:size=12}DISK USAGE${font}
${execpi 60 findmnt -rno TARGET | grep -Ev "^/(boot|dev|proc|run|sys|var|tmp|snap)" | grep -v "docker" | awk '{print "${color3}" $1 ":${alignr}${fs_used " $1 "} / ${fs_size " $1 "}\n${color4}${fs_bar 8 " $1 "}"}'}

${voffset 15}${color4}${hr 2}

#==============================================================================
#  NETWORK
#==============================================================================
${voffset 10}${color1}${font Cantarell:bold:size=12}NETWORK${font}
${color3}Interface:${alignr}${gw_iface}
${color3}Local IP:${alignr}${addr ${gw_iface}}

${color2}Down Speed:${alignr}${color1}${downspeed ${gw_iface}}
${color2}Up Speed:${alignr}${color1}${upspeed ${gw_iface}}

${color3}Total Download:${alignr}${totaldown ${gw_iface}}
${color3}Total Upload:${alignr}${totalup ${gw_iface}}
]];
