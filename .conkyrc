--[[
==============================================================================
|                                                                            |
|                   CONKY CONFIGURATION - LUNAR THEME                        |
|                                                                            |
==============================================================================
]]

conky.config = {
    --==========================================================================
    --  WINDOW SETTINGS
    --==========================================================================
    own_window = true,
    own_window_type = 'desktop',
    own_window_hints = 'undecorated,below,sticky,skip_taskbar,skip_pager',
    -- Set window to be fully transparent to let the stars show through
    own_window_colour = '#000000',
    own_window_argb_visual = true,
    own_window_argb_value = 0,

    --==========================================================================
    --  PLACEMENT
    --==========================================================================
    xinerama_head = 2,
    alignment = 'top_right',
    gap_x = 50,
    gap_y = 50,
    minimum_width = 320,
    minimum_height = 500,

    --==========================================================================
    --  GRAPHICS & FONTS
    --==========================================================================
    draw_shades = true,             -- Turned ON to help text pop against stars
    default_shade_color = '#000000',
    draw_outlines = false,
    draw_borders = false,
    draw_graph_borders = false,     -- Cleaner look without borders
    double_buffer = true,
    use_xft = true,
    -- Tip: Try 'Roboto Mono' or 'Michroma' if installed for a tech look
    font = 'Cantarell:size=10',

    --==========================================================================
    --  COLORS (LUNAR PALETTE)
    --==========================================================================
    default_color = '#E0E0E0',      -- Off-White (General Text)
    color1 = '#FFFFFF',             -- Pure White (Headers/Time)
    color2 = '#B0C4DE',             -- Light Steel Blue (The Moon's Halo/Glow)
    color3 = '#708090',             -- Slate Grey (Craters/Darker details)
    color4 = '#3A3A3A',             -- Dark Charcoal (Background bars)
    color5 = '#FF6961',             -- Muted Red (Warnings - kept low saturation)

    --==========================================================================
    --  BEHAVIOR
    --==========================================================================
    update_interval = 2.0,
    cpu_avg_samples = 2,
    net_avg_samples = 2,
    imlib_cache_size = 0,
    uppercase = false,
    text_buffer_size = 2048,
};

conky.text = [[
#==============================================================================
#  TIME & DATE
#==============================================================================
${alignr}${color1}${font Cantarell:bold:size=38}${time %H:%M}${font}
${alignr}${color3}${font Cantarell:size=14}${time %A, %d %B}${font}
${alignr}${color2}Uptime: ${uptime}

${voffset 15}${color4}${hr 2}

#==============================================================================
#  SYSTEM & CPU
#==============================================================================
${voffset 10}${color1}${font Cantarell:bold:size=12}SYSTEM ${font}
${voffset 5}${color2}Host:${alignr}${nodename}
${color2}Kernel:${alignr}${kernel}

${voffset 10}${color1}${font Cantarell:bold:size=12}CPU${alignr}${cpu cpu0}%${font}
${color4}${cpubar cpu0 8,0}
${color3}Top CPU Processes:${alignr}CPU%
${color2} ${top name 1}${alignr}${top cpu 1}%
${color2} ${top name 2}${alignr}${top cpu 2}%
${color2} ${top name 3}${alignr}${top cpu 3}%

${voffset 15}${color4}${hr 2}

#==============================================================================
#  GPU - NVIDIA
#==============================================================================
# Optimization: Changed execi to exec (Name doesn't change)
${voffset 10}${color1}${font Cantarell:bold:size=12}GPU - ${exec nvidia-smi --query-gpu=gpu_name --format=csv,noheader,nounits}${font}
${color2}Temperature:${alignr}${execi 4 nvidia-smi --query-gpu=temperature.gpu --format=csv,noheader,nounits}Â°C
${color2}GPU Usage:${alignr}${execi 4 nvidia-smi --query-gpu=utilization.gpu --format=csv,noheader,nounits}%
${color2}VRAM Usage:${alignr}${execi 4 nvidia-smi --query-gpu=memory.used --format=csv,noheader,nounits} / ${execi 4 nvidia-smi --query-gpu=memory.total --format=csv,noheader,nounits}

${voffset 15}${color4}${hr 2}

#==============================================================================
#  MEMORY & DISK
#==============================================================================
${voffset 10}${color1}${font Cantarell:bold:size=12}RAM${alignr}${mem} / ${memmax}${font}
${color4}${membar 8,0}
${color3}Top RAM Processes:${alignr}MEM%
${color2} ${top name 1}${alignr}${top mem 1}%
${color2} ${top name 2}${alignr}${top mem 2}%
${color2} ${top name 3}${alignr}${top mem 3}%

${voffset 10}${color1}${font Cantarell:bold:size=12}DISK USAGE${font}
${color3}Home:${alignr}${fs_used /home} / ${fs_size /home}
${color4}${fs_bar 8 /home}
${color3}Games & Shit:${alignr}${fs_used /home/jniklasson/games} / ${fs_size /home/jniklasson/games}
${color4}${fs_bar 8 /home/jniklasson/games}

${voffset 15}${color4}${hr 2}

#==============================================================================
#  NETWORK
#==============================================================================
${voffset 10}${color1}${font Cantarell:bold:size=12}NETWORK${font}
${color3}Download: ${downspeedf enp7s0} KB/s${alignr}Upload: ${upspeedf enp7s0} KB/s
# Gradient applied: Slate Grey -> White
${downspeedgraph enp7s0 25,150 708090 FFFFFF -t} ${alignr}${upspeedgraph enp7s0 25,150 708090 FFFFFF -t}
${color2}Total Down: ${totaldown enp7s0}${alignr}Total Up: ${totalup enp7s0}
]];
